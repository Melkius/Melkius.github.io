(function(e){function t(t){for(var a,r,l=t[0],i=t[1],s=t[2],d=0,j=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&j.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(j.length)j.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,l=1;l<n.length;l++){var i=n[l];0!==o[i]&&(a=!1)}a&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},c=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"19b0":function(e,t,n){"use strict";n("6b95")},4205:function(e,t,n){},4512:function(e,t,n){"use strict";n("588e")},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=c,e.exports=o,o.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),o={style:{position:"sticky","margin-left":"7px",top:"5px","z-index":"10","text-align":"start"}},c=Object(a["j"])("div",{id:"sign-in"},null,-1);function r(e,t,n,r,l,i){var s=Object(a["C"])("Button"),u=Object(a["C"])("TieredMenu"),d=Object(a["C"])("router-view");return Object(a["u"])(),Object(a["g"])(a["a"],null,[Object(a["j"])("div",o,[Object(a["j"])(s,{icon:r.burgerIcon,type:"button",onClick:r.toggle},null,8,["icon","onClick"]),Object(a["j"])(u,{ref:"menu",model:r.items,popup:!0},null,8,["model"])]),Object(a["j"])(d,{style:{overflow:"auto"}}),c],64)}var l=n("260b"),i=(n("ea7b"),n("e71f"),n("66ce"),{apiKey:"AIzaSyB-vuz6hEPPkEJvmrLD3TiBGgA-OEf3j_U",authDomain:"money-manager-7882d.firebaseapp.com",projectId:"money-manager-7882d",databaseURL:"https://money-manager-7882d-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"money-manager-7882d.appspot.com",messagingSenderId:"820347650744",appId:"1:820347650744:web:391cfd672a1b91fd9aea4d"}),s=l["a"].initializeApp(i),u=s,d=n("0393"),j=function(){var e=d["c"].CHECK,t=d["c"].TIMES,n=d["c"].PLUS_CIRCLE,a=d["c"].TRASH,o=d["c"].PENCIL,c=d["c"].BARS,r=d["c"].BOOK,l=d["c"].CHART_BAR,i=d["c"].TAGS,s=d["c"].AMAZON,u=d["c"].ANDROID,j=d["c"].APPLE,b=d["c"].CAMERA,f=d["c"].QUESTION_CIRCLE,p=d["c"];return{checkIcon:e,timesIcon:t,plusIcon:n,trashIcon:a,pencilIcon:o,burgerIcon:c,bookIcon:r,barChartIcon:l,tagsIcon:i,amazon:s,android:u,apple:j,camera:b,allIcons:p,questionCircle:f}},b=function(){var e=Object(a["z"])(),t=Object(a["z"])([]),n=j(),o=n.bookIcon,c=n.barChartIcon,r=n.tagsIcon;t=[{label:"Previsionnel",icon:o,to:"/"},{label:"Graph",icon:c,to:"/graph"},{label:"Catégories",icon:r,to:"/category"}];var l=function(t){e.value.toggle(t)};return{items:t,toggle:l,menu:e}},f={name:"Application",setup:function(){u.auth().signInWithEmailAndPassword("e.perrard@gmail.com","Yolo13").then((function(e){e.user;console.log("user ...")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}));var e=function(){u.auth().onAuthStateChanged((function(e){e?(console.log("user is sign in : ..."),e.getIdToken().then((function(e){console.log("accessToken : ...")}))):document.getElementById("sign-in").textContent="Sign in"}),(function(e){console.log(e)}))};window.addEventListener("load",(function(){e()}));var t=b(),n=t.items,a=t.toggle,o=t.menu,c=j(),r=c.burgerIcon;return{items:n,toggle:a,menu:o,burgerIcon:r}}};n("19b0");f.render=r;var p=f,g=n("9319"),v=n("bb57"),m=n("3822"),O=n("8398"),h=n("b3b6"),y=n("485c0"),C=n("8b6b"),k=n("9899"),I=n("7b17"),x=n("4344"),w=n("e75f"),T=n("0100"),z=n("5bd2"),A=n("48d5"),D=n("6c02"),E=Object(a["O"])("data-v-4f405695");Object(a["x"])("data-v-4f405695");var L=Object(a["j"])("h1",{style:{color:"white",margin:"0"}}," Prévisionnel ",-1),F={style:{position:"sticky",bottom:"30px",display:"flex","flex-direction":"column-reverse","align-items":"center"}},S={class:"footer"},R={class:"p-mb-3"};Object(a["v"])();var P=E((function(e,t,n,o,c,r){var l=Object(a["C"])("TransactionInput"),i=Object(a["C"])("Button");return Object(a["u"])(),Object(a["g"])(a["a"],null,[L,Object(a["j"])(l,{style:{height:"50vh"},totalCallback:e.receiveTotal},null,8,["totalCallback"]),Object(a["j"])("div",F,[Object(a["j"])("div",S,[Object(a["j"])("p",R,"TOTAL : "+Object(a["F"])(e.total)+" €",1)]),Object(a["j"])(i,{class:"p-button-raised",label:"Sauvegarder",icon:e.checkIcon,iconPos:"right",onClick:e.savePrevisionnel},null,8,["icon","onClick"])])],64)})),_=(n("b680"),n("99af"),n("b0c0"),Object(a["O"])("data-v-6ff83b4d"));Object(a["x"])("data-v-6ff83b4d");var N={class:"header"},V=Object(a["j"])("h3",{style:{color:"white",margin:"0 0 25px 0"}}," Ajouter une transaction ",-1),M={class:"p-grid p-fluid"},U={class:"p-col-12 p-md-4"},B={class:"p-inputgroup"},q={class:"p-float-label"},G=Object(a["j"])("label",{for:"transactionLabel"},"Nom de la transaction",-1),H={class:"p-col-12 p-md-4"},J={class:"p-inputgroup"},K={class:"p-inputgroup-addon"},W={class:"p-inputgroup-addon"},Z={class:"p-col-12 p-md-4"},$={key:0,class:"dropdownRow"},Q={key:1,class:"dropdownRow"},Y={class:"dropdownRow"},X=Object(a["i"])(" Merci de remplir les deux champs "),ee={key:0,style:{display:"flex","text-align":"center",width:"100%"}},te={style:{flex:"9"}},ne={style:{flex:"1"}},ae={style:{flex:"1"}},oe={key:1,style:{display:"flex","flex-direction":"column","align-items":"flex-start",width:"100%"}},ce={style:{width:"100%"}},re={style:{display:"flex","flex-direction":"row"}},le={class:"p-inputgroup"},ie={class:"p-inputgroup-addon"},se={class:"p-inputgroup-addon"},ue={class:"p-inputgroup-addon"},de={style:{display:"flex","flex-direction":"column","align-self":"stretch"}},je={key:0,class:"dropdownRow"},be={key:1,class:"dropdownRow"},fe={class:"dropdownRow"};Object(a["v"])();var pe=_((function(e,t,n,o,c,r){var l=Object(a["C"])("InputText"),i=Object(a["C"])("InputNumber"),s=Object(a["C"])("Avatar"),u=Object(a["C"])("Dropdown"),d=Object(a["C"])("Message"),j=Object(a["C"])("Card");return Object(a["u"])(),Object(a["g"])(a["a"],null,[Object(a["j"])("div",N,[V,Object(a["j"])("div",M,[Object(a["j"])("div",U,[Object(a["j"])("div",B,[Object(a["j"])("div",q,[Object(a["j"])(l,{id:"transactionLabel",modelValue:e.transactionName,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.transactionName=t})},null,8,["modelValue"]),G])])]),Object(a["j"])("div",H,[Object(a["j"])("div",J,[Object(a["j"])(i,{id:"transactionAmount",modelValue:e.transactionAmount,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.transactionAmount=t}),placeholder:"Montant en €",mode:"currency",currency:"EUR",locale:"fr-FR"},null,8,["modelValue"]),Object(a["j"])("span",K,[Object(a["j"])("i",{class:"material-icons",onClick:t[3]||(t[3]=function(t){return e.changeSign("transactionAmount")})}," iso ")]),Object(a["j"])("span",W,[Object(a["j"])("i",{class:e.plusIcon,onClick:t[4]||(t[4]=function(t){return e.addTransaction()})},null,2)])])]),Object(a["j"])("div",Z,[Object(a["j"])(u,{modelValue:e.selectedCategory,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedCategory=t}),options:e.categoryList,optionLabel:"name",placeholder:"Sélectionner une catégorie"},{value:_((function(t){return[t.value?(Object(a["u"])(),Object(a["g"])("div",$,[Object(a["j"])(s,{icon:t.value.icon,style:"background-color:".concat(t.value.color,"; color:").concat(e.fontContrastColor(t.value.color),";"),class:"avatarBody"},null,8,["icon","style"]),Object(a["j"])("div",null,Object(a["F"])(t.value.name),1)])):(Object(a["u"])(),Object(a["g"])("span",Q,Object(a["F"])(t.placeholder),1))]})),option:_((function(t){return[Object(a["j"])("div",Y,[Object(a["j"])(s,{icon:t.option.icon,style:"background-color:".concat(t.option.color,"; color:").concat(e.fontContrastColor(t.option.color),";"),class:"avatarBody"},null,8,["icon","style"]),Object(a["j"])("div",null,Object(a["F"])(t.option.name),1)])]})),_:1},8,["modelValue","options"])])]),e.validate?Object(a["h"])("",!0):(Object(a["u"])(),Object(a["g"])(d,{key:0,style:{position:"absolute",bottom:"0",width:"220px"},severity:"error",life:2e3,sticky:!1,closable:"false"},{default:_((function(){return[X]})),_:1}))]),Object(a["j"])("div",{style:{width:"300px",margin:"auto",height:"59vh"},class:{"no-overflow":""===e.modifiedTransaction.id}},[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.transactionList,(function(n){return Object(a["u"])(),Object(a["g"])(j,{key:n.id,style:"margin: 0.3rem; background-color: ".concat(n.color,";"),class:{invisible:e.modifiedTransaction.id!==n.id&&""!==e.modifiedTransaction.id}},{content:_((function(){return[""===e.modifiedTransaction.id?(Object(a["u"])(),Object(a["g"])("div",ee,[Object(a["j"])(s,{icon:n.icon,style:"background-color:".concat(n.color,"; color:").concat(e.fontContrastColor(n.color),"; margin:-30px 0 0 -15px;")},null,8,["icon","style"]),Object(a["j"])("div",te,[Object(a["j"])("div",{style:"color:".concat(e.fontContrastColor(n.color),";")},Object(a["F"])(n.name)+" : "+Object(a["F"])(n.amount)+" € ",5)]),Object(a["j"])("div",ne,[Object(a["j"])("i",{class:e.trashIcon,style:"color:".concat(e.fontContrastColor(n.color),";"),onClick:function(t){return e.removeTransaction(n)}},null,14,["onClick"])]),Object(a["j"])("div",ae,[Object(a["j"])("i",{class:e.pencilIcon,style:"color:".concat(e.fontContrastColor(n.color),";"),onClick:function(t){return e.editTransaction(n)}},null,14,["onClick"])])])):Object(a["h"])("",!0),e.modifiedTransaction.id===n.id?(Object(a["u"])(),Object(a["g"])("div",oe,[Object(a["j"])("div",ce,[Object(a["j"])(l,{modelValue:n.name,"onUpdate:modelValue":function(e){return n.name=e},style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),Object(a["j"])("div",re,[Object(a["j"])("div",le,[Object(a["j"])(i,{id:"editingTransactionAmount",modelValue:n.amount,"onUpdate:modelValue":function(e){return n.amount=e},placeholder:"Montant en €",mode:"currency",currency:"EUR",locale:"fr-FR",format:"false"},null,8,["modelValue","onUpdate:modelValue"]),Object(a["j"])("span",ie,[Object(a["j"])("i",{class:"material-icons",onClick:function(t){return e.changeSign("editingTransactionAmount",n)}}," iso ",8,["onClick"])]),Object(a["j"])("span",se,[Object(a["j"])("i",{class:e.timesIcon,onClick:function(t){return e.cancelTransaction(n)}},null,10,["onClick"])]),Object(a["j"])("span",ue,[Object(a["j"])("i",{class:e.checkIcon,onClick:function(t){return e.validateTransaction(n)}},null,10,["onClick"])])])]),Object(a["j"])("div",de,[Object(a["j"])(u,{modelValue:e.editedCategory,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.editedCategory=t}),options:e.categoryList,optionLabel:"name",placeholder:"Sélectionner une catégorie"},{value:_((function(t){return[t.value?(Object(a["u"])(),Object(a["g"])("div",je,[Object(a["j"])(s,{icon:t.value.icon,style:"background-color:".concat(t.value.color,"; width:36px; height:36px; margin-top: 5px; margin-bottom:5px; color:").concat(e.fontContrastColor(t.value.color))},null,8,["icon","style"]),Object(a["j"])("div",null,Object(a["F"])(t.value.name),1)])):(Object(a["u"])(),Object(a["g"])("span",be,Object(a["F"])(t.placeholder),1))]})),option:_((function(t){return[Object(a["j"])("div",fe,[Object(a["j"])(s,{icon:t.option.icon,style:"background-color:".concat(t.option.color,"; width:36px; height:36px; margin-top: 5px; margin-bottom:5px; margin-right:5px; color:").concat(e.fontContrastColor(t.option.color))},null,8,["icon","style"]),Object(a["j"])("div",null,Object(a["F"])(t.option.name),1)])]})),_:1},8,["modelValue","options"])])])):Object(a["h"])("",!0)]})),_:2},1032,["style","class"])})),128))],2)],64)})),ge=(n("13d5"),n("d81d"),n("1da1")),ve=(n("96cf"),n("a434"),n("07ac"),n("159b"),n("c740"),n("466d"),n("ac1f"),n("fb6a"),n("8ba4"),n("a9e3"),"transactions"),me="category",Oe="previsionnels",he=u.database(),ye=n("18cb"),Ce=(n("d3b7"),n("4de4"),function(){var e=Object(a["z"])(),t=Object(a["z"])(),n=Object(a["z"])(),o=Object(a["z"])(),c=Object(a["z"])([]),r=function(){if(t.value){var a=he.ref(me).push();he.ref("".concat(me,"/").concat(a.key)).set({name:t.value,color:"#".concat(e.value),icon:n.value,id:a.key}).then((function(){t.value=null,e.value=null,n.value=null}))}},l=function(e){console.log("select icon : ",e),n.value=e,o.value.icon=e},i=function(e){var t=c.value.indexOf(e);he.ref("".concat(me,"/").concat(c.value[t].id)).remove().then((function(){s()}))};he.ref(me).on("value",(function(e){e.val()&&(c.value=Object.values(e.val()),console.log("🚀 ~ file: useCategory.js ~ line 49 ~ database.ref ~ categoryList.value",c.value))}));var s=function(){he.ref(me).once("value",(function(e){e.val()&&(c.value=Object.values(e.val()))}))},u=function(e){o.value=e},d=function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:he.ref("".concat(me,"/").concat(t.id)).update({name:t.name,id:t.id,color:t.color,icon:t.icon}).then((function(){return!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){he.ref(me).get().then((function(n){if(n.val()){var a=Object.values(n.val()),o=a.filter((function(e){return e.id===t}));o.length>0&&e(o[0]),e(null)}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{selectedColor:e,selectedCategoryName:t,categoryList:c,editingCategory:o,saveCategory:r,removeCategory:i,getCategoryById:j,editCategory:u,validateCategory:d,getCategoryList:s,selectedCategoryIcon:n,selectIconForCategory:l}}),ke=(n("5319"),n("25f0"),function(){var e=function(e){return e.toString().replace(".",",")},t=function(e){return e.toString().replace(",",".")};return{dotToComma:e,commaToDot:t}}),Ie=function(){var e=Object(ye["b"])(),t=Object(a["z"])(),n=Object(a["z"])(""),o=Object(a["z"])([]),c=Object(a["z"])(),r=Object(a["z"])(),l=Object(a["z"])(),i=Object(a["z"])({name:"",amount:0,id:""}),s=Object(a["z"])(!0),u={weekday:"long",year:"numeric",month:"long",day:"numeric",minute:"numeric",hour:"numeric",second:"numeric"},d=Ce(),j=d.getCategoryById,b=ke(),f=b.dotToComma,p=b.commaToDot,g=function(e){i.value={name:"",amount:0,id:""},e.categoryId=l.value.id,l.value=null;var t=(new Date).toLocaleDateString("fr-FR",u),n=he.ref("".concat(ve,"/").concat(e.id));n.set({amount:e.amount,name:e.name,date:t,id:e.id,categoryId:e.categoryId}),y()},v=function(e){i.value={name:"",amount:0,id:""};var n=o.value.indexOf(e);o.value[n]=t.value},m=function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j(n.categoryId);case 2:l.value=e.sent,i.value=n,t.value={amount:n.amount,id:n.id,date:n.date,name:n.name,color:n.color,icon:n.icon,categoryId:n.categoryId};case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=o.value.indexOf(e);he.ref("".concat(ve,"/").concat(o.value[t].id)).remove(),o.value.splice(t,1)},h=function(){if(n.value.length>0&&0!==c.value&&c.value){o.value.push({name:n.value,amount:c.value,id:"".concat(n.value,"-").concat(Math.floor(1e6*Math.random())),categoryId:r.value?r.value.id:c.value<0?"Autres dépenses":"Autres revenus"}),n.value="",c.value=null;var t=(new Date).toLocaleDateString("fr-FR",u),a=he.ref("".concat(ve,"/").concat(o.value[o.value.length-1].id));a.set({amount:o.value[o.value.length-1].amount,name:o.value[o.value.length-1].name,date:t,id:o.value[o.value.length-1].id,categoryId:o.value[o.value.length-1].categoryId})}else s.value=!1,C(),e.add({severity:"error",summary:"Erreur",detail:"Merci de remplir les deux champs",life:3e3});y()},y=function(){he.ref(ve).get().then((function(e){var t=e.val();if(o.value.length=0,t){var n=Object.values(t);n.forEach((function(e){var t;he.ref(me).once("value").then((function(n){if(n.val()){var a=Object.values(n.val()),c=a.findIndex((function(t){return t.id===e.categoryId}));-1!==c&&(t=a[c])}t?(e.color=t.color,e.icon=t.icon):e.color="mediumseagreen",o.value.push(e)}))}))}})).catch((function(e){console.error("Erreur get transactions :",e)}))},C=function(){setTimeout((function(){return s.value=!0}),2500)},k=function(e,t){var n=document.getElementById(e),a=n.value;if(""!==a){var o=p(a.slice(0,a.length-2)).match(/[0-9,\\.,\\-]/g).reduce((function(e,t){return e+t}));console.log("valueString = ",o);var c=-1*parseFloat(o);if(Number.isInteger(c))n.value="".concat(c,",00 €");else{var r=f(c);n.value="".concat(p(c)).concat(r.indexOf(",")===r.length-2?"0":""," €")}t&&(t.amount=c),n.blur()}};return{cancelTransaction:v,validateTransaction:g,removeTransaction:O,addTransaction:h,transactionName:n,transactionList:o,transactionAmount:c,modifiedTransaction:i,validate:s,timeoutAlert:C,getTransactions:y,editTransaction:m,changeSign:k,selectedCategory:r,editedCategory:l}},xe=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},we=function(e,t,n){return"#"+xe(e)+xe(t)+xe(n)},Te=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,n,a,o){return t+t+n+n+a+a+o+o}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:parseInt(n[4],16)}:null},ze=function(e){var t=Te(e),n=(.299*t.r+.587*t.g+.114*t.b)/255,a=0;return a=n>.5?0:255,we(a,a,a)},Ae=function(){return{fontContrastColor:ze,hexToRgb:Te,rgbToHex:we,componentToHex:xe}},De=Object(a["k"])({name:"TransactionInput",props:{totalCallback:{type:Function,required:!0,default:function(){}}},setup:function(){var e=Object(a["z"])(""),t=Object(a["z"])(0),n=Object(a["z"])(0),o=Ie(),c=o.cancelTransaction,r=o.validateTransaction,l=o.removeTransaction,i=o.addTransaction,s=o.transactionName,u=o.transactionList,d=o.transactionAmount,b=o.modifiedTransaction,f=o.validate,p=o.timeoutAlert,g=o.getTransactions,v=o.editTransaction,m=o.changeSign,O=o.selectedCategory,h=o.editedCategory,y=j(),C=y.checkIcon,k=y.timesIcon,I=y.plusIcon,x=y.trashIcon,w=y.pencilIcon,T=Ce(),z=T.categoryList,A=T.getCategoryByName,D=Ae(),E=D.fontContrastColor,L=he.ref(ve),F=function(e){var t=e.target;"0"===t.value&&(t.value="")};return Object(a["s"])((function(){L.on("value",(function(e){console.log("transactions : \n"+JSON.stringify(e.val(),null,2))})),g()})),{addTransaction:i,removeTransaction:l,cancelTransaction:c,validateTransaction:r,transactionName:s,transactionList:u,transactionAmount:d,modifyName:e,modifyAmount:t,modifiedTransaction:b,total:n,validate:f,timeoutAlert:p,editTransaction:v,eraseZeroOnFocus:F,changeSign:m,categoryList:z,selectedCategory:O,getCategoryByName:A,editedCategory:h,checkIcon:C,timesIcon:k,plusIcon:I,trashIcon:x,pencilIcon:w,fontContrastColor:E}},watch:{transactionList:{handler:function(e){e.length>0?this.total=e.map((function(e){return e.amount})).reduce((function(e,t){return parseFloat(e)+parseFloat(t)})):this.total=0,this.totalCallback(this.total)},deep:!0}}});n("da71");De.render=pe,De.__scopeId="data-v-6ff83b4d";var Ee=De,Le=Object(a["k"])({name:"Previsionnel",components:{TransactionInput:Ee},setup:function(){var e=Object(a["z"])(0),t=function(t){e.value=t.toFixed(2)},n=j(),o=n.checkIcon,c=he.ref(Oe),r=function(){var t={weekday:"long",year:"numeric",month:"long",day:"numeric",minute:"numeric",hour:"numeric",second:"numeric"},n=(new Date).toLocaleDateString("fr-FR",t),a=he.ref("".concat(Oe,"/").concat(n));a.set({total:e.value,currency:"Euro"})};return Object(a["s"])((function(){c.on("value",(function(e){console.log("previsionnels sauvegardés : "+JSON.stringify(e,null,2))}))})),{receiveTotal:t,total:e,savePrevisionnel:r,checkIcon:o}}});n("a129");Le.render=P,Le.__scopeId="data-v-4f405695";var Fe=Le,Se=Object(a["O"])("data-v-cc04f576");Object(a["x"])("data-v-cc04f576");var Re={style:{height:"86vh",overflow:"auto",width:"50vw",margin:"0 auto"}},Pe=Object(a["j"])("h1",null,"Graphiques",-1),_e={key:0},Ne=Object(a["j"])("h3",null,"Dépenses",-1),Ve=Object(a["j"])("br",null,null,-1),Me={key:1},Ue=Object(a["j"])("h3",null,"Revenus",-1),Be={key:0},qe={key:1,style:{color:"white",background:"black",margin:"0 auto",position:"sticky",bottom:"0",width:"max-content",padding:"10px"}};Object(a["v"])();var Ge=Se((function(e,t,n,o,c,r){var l=Object(a["C"])("Chart");return Object(a["u"])(),Object(a["g"])(a["a"],null,[Object(a["j"])("div",Re,[Pe,e.expenseData&&e.expenseData.labels.length>0?(Object(a["u"])(),Object(a["g"])("div",_e,[Ne,Object(a["j"])(l,{width:170,type:"doughnut",data:e.expenseData},null,8,["data"])])):Object(a["h"])("",!0),Ve,e.incomeData&&e.incomeData.labels.length>0?(Object(a["u"])(),Object(a["g"])("div",Me,[Ue,Object(a["j"])(l,{width:170,type:"doughnut",data:e.incomeData},null,8,["data"])])):Object(a["h"])("",!0)]),e.expenseData||e.incomeData?(Object(a["u"])(),Object(a["g"])("div",qe," Total = "+Object(a["F"])(e.delta())+" € ",1)):(Object(a["u"])(),Object(a["g"])("h3",Be,"Pas de données"))],64)})),He=function(){var e=Object(a["z"])(),t=Object(a["z"])(),n=he.ref(me),o=he.ref(ve),c=[];return n.once("value",(function(n){var a=Object.values(n.val());a.forEach((function(e){c.push({name:e.name,color:e.color,id:e.id,amount:0})})),o.once("value",(function(n){if(n.val()){var a=Object.values(n.val());c.forEach((function(e){a.forEach((function(t){t.categoryId===e.id&&(e.amount+=t.amount)}))}));var o=c.filter((function(e){return e.amount<0})),r=c.filter((function(e){return e.amount>0})),l=Object.values(o.map((function(e){return e.name}))),i=Object.values(o.map((function(e){return e.amount}))),s=Object.values(o.map((function(e){return e.color}))),u=Object.values(r.map((function(e){return e.name}))),d=Object.values(r.map((function(e){return e.amount}))),j=Object.values(r.map((function(e){return e.color})));e.value={labels:l,datasets:[{data:i,backgroundColor:s}]},t.value={labels:u,datasets:[{data:d,backgroundColor:j}]}}}))})),{expenseData:e,incomeData:t}},Je=Object(a["k"])({name:"Graph",setup:function(){var e=He(),t=e.expenseData,n=e.incomeData,a=function(){var e=n.value.datasets,a=t.value.datasets,c=[],r=[];return e.forEach((function(e){c=e.data.map((function(e){return parseFloat(e)}))})),a.forEach((function(e){r=e.data.map((function(e){return parseFloat(e)}))})),"".concat((o(c)+o(r)).toFixed(2))},o=function(e){if(e.length>0){var t=e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return e+t}));return t}return 0};return{expenseData:t,incomeData:n,delta:a}}});n("4512");Je.render=Ge,Je.__scopeId="data-v-cc04f576";var Ke=Je,We=Object(a["O"])("data-v-864a51b4");Object(a["x"])("data-v-864a51b4");var Ze=Object(a["j"])("h1",null,"Catégories",-1),$e={style:{display:"flex","align-items":"center",margin:"auto",width:"300px"}},Qe={class:"p-inputgroup"},Ye=Object(a["j"])("span",{id:"colorPickerForChoice",class:"p-inputgroup-addon",style:{heigth:"60px",width:"60px"}},null,-1),Xe={class:"p-inputgroup-addon"},et={class:"p-float-label"},tt=Object(a["j"])("label",{for:"categoryLabel"},"Nom de la catégorie",-1),nt={class:"p-inputgroup-addon"},at=Object(a["j"])("br",null,null,-1),ot={style:{overflow:"auto",heigth:"70vh"}},ct={style:{"align-self":"center",flex:"1","text-align":"start"}},rt=Object(a["j"])("h3",null,"Modifier la catégorie",-1),lt={style:{height:"auto"}},it={style:{display:"flex","align-items":"center",margin:"auto",width:"300px"}},st={class:"p-inputgroup"},ut=Object(a["j"])("span",{id:"colorPickerForEdit",class:"p-inputgroup-addon",style:{heigth:"60px","max-width":"60px"}},null,-1),dt={class:"p-inputgroup-addon"},jt={style:{"margin-top":".5em"}},bt={style:{padding:"2px"}},ft=Object(a["j"])("h3",null,"Choisir l'icone de la catégorie",-1),pt={style:{"margin-top":".5em"}},gt={style:{padding:"2px"}};Object(a["v"])();var vt=We((function(e,t,n,o,c,r){var l=Object(a["C"])("InputText"),i=Object(a["C"])("Avatar"),s=Object(a["C"])("Button"),u=Object(a["C"])("Dialog");return Object(a["u"])(),Object(a["g"])(a["a"],null,[Ze,Object(a["j"])("div",$e,[Object(a["j"])("div",Qe,[Ye,Object(a["j"])("span",Xe,[Object(a["j"])("i",{class:e.selectedCategoryIcon?e.selectedCategoryIcon:e.questionCircle,onClick:t[1]||(t[1]=function(t){return e.showIconDialog()})},null,2)]),Object(a["j"])("div",et,[Object(a["j"])(l,{id:"categoryLabel",modelValue:e.selectedCategoryName,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedCategoryName=t})},null,8,["modelValue"]),tt]),Object(a["j"])("span",nt,[Object(a["j"])("i",{class:e.plusIcon,onClick:t[3]||(t[3]=function(t){return e.saveCategory()})},null,2)])])]),at,Object(a["j"])("div",ot,[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.categoryList,(function(t){return Object(a["u"])(),Object(a["g"])("div",{key:t.name,style:{display:"flex","justify-content":"flex-end",margin:"auto",width:"300px",color:"white","padding-right":"10px","padding-left":"10px"}},[Object(a["j"])("div",ct,Object(a["F"])(t.name),1),Object(a["j"])(i,{icon:t.icon,style:"background-color:".concat(t.color,"; width:36px; height:36px; margin-top: 5px; margin-bottom:5px; color:black;")},null,8,["icon","style"]),Object(a["j"])(s,{disabled:"Autres dépenses"===t.name||"Autres revenus"===t.name,icon:e.trashIcon,class:"p-button-secondary",style:{width:"36px",height:"36px",margin:"5px"},onClick:function(n){return e.removeCategory(t)}},null,8,["disabled","icon","onClick"]),Object(a["j"])(s,{disabled:"Autres dépenses"===t.name||"Autres revenus"===t.name,icon:e.pencilIcon,class:"p-button-secondary",style:{width:"36px",height:"36px",margin:"5px"},onClick:function(n){return e.showEditDialog(t)}},null,8,["disabled","icon","onClick"])])})),128))]),Object(a["j"])("div",null,[Object(a["j"])(u,{visible:e.displayEditDialog,"onUpdate:visible":t[7]||(t[7]=function(t){return e.displayEditDialog=t}),style:{height:"70vh"}},{header:We((function(){return[rt]})),footer:We((function(){return[Object(a["j"])(s,{label:"Annuler",icon:e.timesIcon,class:"p-button-text",onClick:e.cancelEditDialog},null,8,["icon","onClick"]),Object(a["j"])(s,{label:"Modifier",icon:e.checkIcon,autofocus:"",onClick:t[6]||(t[6]=function(t){return e.confirmEdit(e.editingCategory)})},null,8,["icon"])]})),default:We((function(){return[Object(a["j"])("div",lt,[Object(a["j"])("div",it,[Object(a["j"])("div",st,[ut,Object(a["j"])(l,{modelValue:e.editingCategory.name,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.editingCategory.name=t}),placeholder:"Nom de la catégorie"},null,8,["modelValue"]),Object(a["j"])("span",dt,[Object(a["j"])("i",{class:e.plusIcon,onClick:t[5]||(t[5]=function(t){return e.saveCategory()})},null,2)])])]),Object(a["j"])("div",jt,[Object(a["j"])(a["d"],{name:"dynamic-box",tag:"div",class:"p-grid",style:{display:"flex",width:"80vw","flex-wrap":"wrap"}},{default:We((function(){return[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.allIcons,(function(t){return Object(a["u"])(),Object(a["g"])("div",{key:t,class:"p-col"},[Object(a["j"])("div",bt,[Object(a["j"])(i,{icon:t,class:[e.selectedCategoryIcon===t?"selected-icon":"unselected-icon"],onClick:function(n){return e.selectIconForCategory(t)}},null,8,["icon","class","onClick"])])])})),128))]})),_:1})])])]})),_:1},8,["visible"]),Object(a["j"])(u,{visible:e.displayIconDialog,"onUpdate:visible":t[9]||(t[9]=function(t){return e.displayIconDialog=t}),style:{height:"70vh"}},{header:We((function(){return[ft]})),footer:We((function(){return[Object(a["j"])(s,{label:"Annuler",icon:e.timesIcon,class:"p-button-text",onClick:e.cancelIconChoice},null,8,["icon","onClick"]),Object(a["j"])(s,{label:"Modifier",icon:e.checkIcon,autofocus:"",onClick:t[8]||(t[8]=function(t){return e.confirmIconChoice(e.selectIconForCategory)})},null,8,["icon"])]})),default:We((function(){return[Object(a["j"])("div",pt,[Object(a["j"])(a["d"],{name:"dynamic-box",tag:"div",class:"p-grid",style:{display:"flex",width:"80vw","flex-wrap":"wrap"}},{default:We((function(){return[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.allIcons,(function(t){return Object(a["u"])(),Object(a["g"])("div",{key:t,class:"p-col"},[Object(a["j"])("div",gt,[Object(a["j"])(i,{icon:t,class:[e.selectedCategoryIcon===t?"selected-icon":"unselected-icon"],onClick:function(n){return e.selectIconForCategory(t)}},null,8,["icon","class","onClick"])])])})),128))]})),_:1})])]})),_:1},8,["visible"])])],64)})),mt=n("1a12"),Ot=Object(a["k"])({name:"Category",setup:function(){var e=Ce(),t=e.selectedColor,n=e.selectedCategoryName,o=e.categoryList,c=e.saveCategory,r=e.removeCategory,l=e.editCategory,i=e.editingCategory,s=e.validateCategory,u=e.getCategoryList,d=e.selectedCategoryIcon,b=e.selectIconForCategory,f=j(),p=f.checkIcon,g=f.timesIcon,v=f.plusIcon,m=f.trashIcon,O=f.pencilIcon,h=f.questionCircle,y=f.allIcons,C=Object(a["z"])(!1),k=Object(a["z"])(!1),I=function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C.value=!1,e.next=3,s(t);case 3:d.value=null;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){k.value=!1,console.log("icon selected for creation : ",e)},w=function(){k.value=!1,d.value=null,console.log("icon choice cancelled")},T=function(){k.value=!0},z=function(){C.value=!1,u()},A=function(e){C.value=!0,d.value=e.icon,t.value=e.color.substring(1),l(e)},D=Object(a["L"])((function(){if(console.log("watchEffect : "),C.value)var e=setInterval((function(){console.log("set picker 2");var n=document.querySelector("#colorPickerForEdit"),a=new mt["a"](n);n.style.background="#"+t.value,a.onDone=function(e){n.style.background=e.hex,t.value=e.hex.substring(1),i.value.color=e.hex,console.log("picker 2 :",e.hex)},clearInterval(e)}),500)}));return Object(a["s"])((function(){var e=document.querySelector("#colorPickerForChoice"),n=new mt["a"](e);n.onDone=function(n){e.style.background=n.hex,t.value=n.hex.substring(1),console.log("picker 1 :",n.hex)}})),{selectedColor:t,selectedCategoryName:n,categoryList:o,saveCategory:c,removeCategory:r,editCategory:l,displayEditDialog:C,confirmEdit:I,cancelEditDialog:z,showEditDialog:A,editingCategory:i,checkIcon:p,timesIcon:g,plusIcon:v,trashIcon:m,pencilIcon:O,questionCircle:h,iconList:j,selectedCategoryIcon:d,selectIconForCategory:b,allIcons:y,showIconDialog:T,confirmIconChoice:x,cancelIconChoice:w,displayIconDialog:k,stopWatcher:D}}});n("f152");Ot.render=vt,Ot.__scopeId="data-v-864a51b4";var ht=Ot,yt=[{path:"/",name:"Previsionnel",component:Fe},{path:"/graph",name:"Graph",component:Ke},{path:"/category",name:"Category",component:ht}],Ct=Object(D["a"])({history:Object(D["b"])(),routes:yt}),kt=Ct,It=(n("7a3c"),n("e1ae"),n("4121"),Object(a["f"])(p));It.use(g["a"]),It.use(y["a"]),It.use(kt),It.component("Button",v["a"]),It.component("InputNumber",m["a"]),It.component("InputText",O["a"]),It.component("Toast",h["a"]),It.component("Message",C["a"]),It.component("Card",k["a"]),It.component("TieredMenu",I["a"]),It.component("Chart",x["a"]),It.component("ColorPicker",w["a"]),It.component("Dropdown",T["a"]),It.component("Dialog",z["a"]),It.component("Avatar",A["a"]),It.mount("#app")},"588e":function(e,t,n){},"5d28":function(e,t,n){},"6b95":function(e,t,n){},"935c":function(e,t,n){},a129:function(e,t,n){"use strict";n("5d28")},da71:function(e,t,n){"use strict";n("935c")},f152:function(e,t,n){"use strict";n("4205")}});
//# sourceMappingURL=app.922fcc0f.js.map